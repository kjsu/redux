<!DOCTYPE html>
<html>
	 <head>
		  <script src="https://cdnjs.cloudflare.com/ajax/libs/redux/4.0.1/redux.js"></script>
	 </head>
	 <body>
		  <div id="subject"></div>
		  <div id="toc"></div>
		  <div id="content"></div>
		  <script>
				function subject(){
					 document.querySelector('#subject').innerHTML = `
					 <header>
						  <h1>WEB</h1>
						  Hello, WEB!
					 </header>
					 `
				}
				function toc(){
						var state = store.getState();
						var liTags = '';
						state.content.forEach(function(e){
							liTags += `
								<li>
									<a onclick="
											event.preventDefault();
											var action = {type:'SELECT', id:${e.id}}
											store.dispatch(action);"
										href="${e.id}">${e.title}
									</a>
								</li>`;
						});

					 document.querySelector('#toc').innerHTML = `
					 <nav>
						  <ol>${liTags}</ol>
					 </nav>
					 `
				}
				function content(){
					var state = store.getState();
					var title, desc;

					for (var i = 0; i < state.content.length; i++){
						if (state.content[i].id === state.selected_id) {
							title = state.content[i].title;
							desc = state.content[i].desc;
							break;
						}
					}

					 document.querySelector('#content').innerHTML = `
					 <article>
						  <h2>${title}</h2>
						  ${desc}
					 </article>
					 `
				}

				function reducer(state, action){
					 if (state === undefined){
						  return {
							  	selected_id:1,
								content:[
									 {id:1, title:'HTML', desc:'HTML is ...'},
									 {id:2, title:'CSS', desc:'CSS is ...'}
								]
						  }
					 }

					var newState = {};
					if (action.type === 'SELECT'){
						newState = Object.assign({}, state, {selected_id:action.id});
					}
					return newState;
				}
				var store = Redux.createStore(reducer);
				store.subscribe(content);
				subject();
				toc();
				content();
		  </script>
	 </body>
</html>